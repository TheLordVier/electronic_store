#                       Цифровая сеть продажи электроники (Electronic Store)

Проект разработал: Михайлов Александр

____

Приложение представляет собой API с функциональностью CRUD для поставщиков, продуктов и контактов.
В приложении есть три типа поставщиков - Завод, Розничная сеть и Индивидуальный предприниматель, каждый из которых 
занимает определённую позицию в иерархии. Можно создавать различных поставщиков и устанавливать связи между ними,
менять поставщиков и редактировать их поля. Доступ к API получают только авторизованные пользователи с параметром
is_active (permissions.py).
В админ панели реализована фильтрация (list_filter) по названию города и действие "admin action" очищающая
задолженность перед поставщиком у выбранных объектов. Также в админ панели реализована ссылка на поставщика.
Реализован запрет на обновление задолженности перед поставщиком через API (в сериализаторах IndividualSerializer и
RetailSerializer переопределён метод update)
Посредством DRF реализована возможность фильтрации (list_filter) объектов по определённой стране.

____

### Cтек технологий используемых в приложении:

- **Python 3.11**
- **Django 4.2**
- **Django REST framework 3.14.0**
- **Django-filter 23.2**
- **Postgres SQL**
- **Docker, Docker-compose**

____

### Структура приложения:


- **Директория core** - *Директория c кастомной моделью пользователя*

- **Директория electronic_store** - *Директория с основной django (backend) частью приложения*

- **Директория supplier_network** - *Директория сеть поставщиков с моделями, сериализаторами, представлениями и т.д.*


**manage.py** - *файл со ссылкой на скрипт django-admin для проекта*

**requirements.txt** - *зависимости приложения*

**Dockerfile** - *файл для создания образов контейнеров*

**docker-compose.yaml** - *файл конфигурации для Docker Compose*

**.dockerignore** - *файлы и папки для игнорирования в Docker*

**.gitignore** - *файлы и папки для игнорирования в системе контроля версий Git*

____

### Подготовка и запуск приложения:

1. **Клонируем приложение.**
 - в терминале вводим команду `git clone https://github.com/TheLordVier/electronic_store.git
2. **Создаём виртуальное окружение.**
 - в терминале вводим команду в директории проекта `python -m venv venv`
3. **Устанавливаем зависимости приложения**
 - в терминале вводим команду `pip install -r requirements.txt` 
4. **Создаём .env файл (пример .env файла представлен ниже)**
 - создаём в корне проекта .env файл и прописываем в нём значения используемых переменных
5. **Файл docker-compose.yaml**
 - создаём и заполняем файл docker-compose.yaml или берём готовый из проекта
 - в терминале вводим команду `docker-compose up -d` 
6. **Выполняем миграции**
 - в терминале вводим команду `./manage.py makemigrations`
 - далее вводим команду `./manage.py migrate`
 - проверяем выполненные миграции с помощью команды `./manage.py showmigrations`
7. **Запускаем приложение**
 - в терминале вводим команду в корне проекта `./manage.py runserver`
 - переходим по пути http://127.0.0.1:8000/ или заходим в панель администратора http://127.0.0.1:8000/admin/

____

### Пример заполнения .env файла:

    SECRET_KEY="django-insecure-virigz(qv3n85ho+#f3c-^r40qi!g&8gsk_gysp1!j*si9ds7$"
    DEBUG=True
    DB_USER=postgres
    DB_PASSWORD=postgres
    DB_NAME=postgres
    DB_HOST=localhost
    DB_PORT=5432